<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mmdb (mmdb.Mmdb)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">mmdb</a> &#x00BB; Mmdb</nav><h1>Module <code>Mmdb</code></h1><p>Binding to the maxminddb library which parses the MMDB format commonly known as GeoIP2</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>Reference to an MMBD file</p></dd></dl><dl><dt class="spec exception" id="exception-Binding_integrity_error"><a href="#exception-Binding_integrity_error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Binding_integrity_error</span> <span class="keyword">of</span> string</code></dt><dd><p>Thrown when an error is detected that is an internal error of the library, not a usage error. It is recommended not to handle this, instead report a bug report in the library</p></dd></dl><div class="spec module" id="module-Common_error"><a href="#module-Common_error" class="anchor"></a><code><span class="keyword">module</span> <a href="Common_error/index.html">Common_error</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Open_file_error"><a href="#module-Open_file_error" class="anchor"></a><code><span class="keyword">module</span> <a href="Open_file_error/index.html">Open_file_error</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Fetch_ip_data_error"><a href="#module-Fetch_ip_data_error" class="anchor"></a><code><span class="keyword">module</span> <a href="Fetch_ip_data_error/index.html">Fetch_ip_data_error</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Fetch_value_error"><a href="#module-Fetch_value_error" class="anchor"></a><code><span class="keyword">module</span> <a href="Fetch_value_error/index.html">Fetch_value_error</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Fetch_error"><a href="#module-Fetch_error" class="anchor"></a><code><span class="keyword">module</span> <a href="Fetch_error/index.html">Fetch_error</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-library_version"><a href="#val-library_version" class="anchor"></a><code><span class="keyword">val</span> library_version : string</code></dt><dd><p>The version string of the underlying C library</p></dd></dl><div class="spec module" id="module-Path"><a href="#module-Path" class="anchor"></a><code><span class="keyword">module</span> Path = <a href="../Mmdb__/Types/index.html#module-Path">Mmdb__.Types.Path</a></code></div><dl><dt class="spec value" id="val-open_file"><a href="#val-open_file" class="anchor"></a><code><span class="keyword">val</span> open_file : <a href="../Mmdb__Types/Path/index.html#type-t">Path.t</a> <span>&#45;&gt;</span> (<a href="index.html#type-t">t</a>, <a href="Open_file_error/index.html#type-t">Open_file_error.t</a>) Stdlib.result</code></dt><dd><p>Open an MMDB file and return a reference to it</p></dd></dl><div class="spec module" id="module-Version_number"><a href="#module-Version_number" class="anchor"></a><code><span class="keyword">module</span> Version_number = <a href="../Mmdb__/Types/index.html#module-Version_number">Mmdb__.Types.Version_number</a></code></div><dl><dt class="spec value" id="val-binary_format_version"><a href="#val-binary_format_version" class="anchor"></a><code><span class="keyword">val</span> binary_format_version : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mmdb__Types/Version_number/index.html#type-t">Version_number.t</a></code></dt><dd><p>The version number of the binary format in underlying MMDB file</p></dd></dl><div class="spec module" id="module-Language"><a href="#module-Language" class="anchor"></a><code><span class="keyword">module</span> Language = <a href="../Mmdb__/Types/index.html#module-Language">Mmdb__.Types.Language</a></code></div><dl><dt class="spec value" id="val-languages"><a href="#val-languages" class="anchor"></a><code><span class="keyword">val</span> languages : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mmdb__Types/Language/index.html#type-t">Language.t</a> list</code></dt><dd><p>Retrieves a list of languages supported by the database</p></dd></dl><dl><dt class="spec value" id="val-language_by_code"><a href="#val-language_by_code" class="anchor"></a><code><span class="keyword">val</span> language_by_code : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../Mmdb__Types/Language/index.html#type-t">Language.t</a> option</code></dt><dd><p>Retrieves a specific language by its language code</p></dd></dl><div class="spec module" id="module-Ip"><a href="#module-Ip" class="anchor"></a><code><span class="keyword">module</span> Ip = <a href="../Mmdb__/Types/index.html#module-Ip">Mmdb__.Types.Ip</a></code></div><dl><dt class="spec type" id="type-ip_data"><a href="#type-ip_data" class="anchor"></a><code><span class="keyword">type</span> ip_data</code></dt><dd><p>An opaque reference to the data structure associated with an IP address</p></dd></dl><dl><dt class="spec value" id="val-fetch_ip_data"><a href="#val-fetch_ip_data" class="anchor"></a><code><span class="keyword">val</span> fetch_ip_data : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Mmdb__Types/Ip/index.html#type-t">Ip.t</a> <span>&#45;&gt;</span> (<a href="index.html#type-ip_data">ip_data</a>, <a href="Fetch_ip_data_error/index.html#type-t">Fetch_ip_data_error.t</a>) Stdlib.result</code></dt><dd><p>Retrieves the data associated with the supplied IP address</p></dd></dl><dl><dt class="spec module-type" id="module-type-VALUE_TYPE"><a href="#module-type-VALUE_TYPE" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-VALUE_TYPE/index.html">VALUE_TYPE</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Signatures for handling queries that yield a particular type of answer</p></dd></dl><dl><dt class="spec type" id="type-any_value"><a href="#type-any_value" class="anchor"></a><code><span class="keyword">type</span> any_value</code><code> = </code><table class="variant"><tr id="type-any_value.String" class="anchored"><td class="def constructor"><a href="#type-any_value.String" class="anchor"></a><code>| </code><code><span class="constructor">String</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-any_value.Float" class="anchored"><td class="def constructor"><a href="#type-any_value.Float" class="anchor"></a><code>| </code><code><span class="constructor">Float</span> <span class="keyword">of</span> float</code></td></tr><tr id="type-any_value.Int" class="anchored"><td class="def constructor"><a href="#type-any_value.Int" class="anchor"></a><code>| </code><code><span class="constructor">Int</span> <span class="keyword">of</span> int</code></td></tr><tr id="type-any_value.Bool" class="anchored"><td class="def constructor"><a href="#type-any_value.Bool" class="anchor"></a><code>| </code><code><span class="constructor">Bool</span> <span class="keyword">of</span> bool</code></td></tr></table></dt><dd><p>The supported atomic value types that can be retrieved from a database</p></dd></dl><dl><dt class="spec module" id="module-Any"><a href="#module-Any" class="anchor"></a><code><span class="keyword">module</span> <a href="Any/index.html">Any</a> : <a href="index.html#module-type-VALUE_TYPE">VALUE_TYPE</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-VALUE_TYPE/index.html#type-answer">answer</a> = <a href="index.html#type-any_value">any_value</a></code></dt><dd><p>Interface to query for values of type <a href="index.html#type-any_value"><code>any_value</code></a>. This may come useful in case the database contains different value types at the same query path. Specialized modules for retrieving strings, floats, integers and booleans are available below.</p></dd></dl><dl><dt class="spec module" id="module-String"><a href="#module-String" class="anchor"></a><code><span class="keyword">module</span> <a href="String/index.html">String</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Interface for retrieving string values from the database</p></dd></dl><dl><dt class="spec module" id="module-Float"><a href="#module-Float" class="anchor"></a><code><span class="keyword">module</span> <a href="Float/index.html">Float</a> : <a href="index.html#module-type-VALUE_TYPE">VALUE_TYPE</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-VALUE_TYPE/index.html#type-answer">answer</a> = float</code></dt><dd><p>Interface for retrieving float values from the database</p></dd></dl><dl><dt class="spec module" id="module-Int"><a href="#module-Int" class="anchor"></a><code><span class="keyword">module</span> <a href="Int/index.html">Int</a> : <a href="index.html#module-type-VALUE_TYPE">VALUE_TYPE</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-VALUE_TYPE/index.html#type-answer">answer</a> = int</code></dt><dd><p>Interface for retrieving integer values from the database</p></dd></dl><dl><dt class="spec module" id="module-Bool"><a href="#module-Bool" class="anchor"></a><code><span class="keyword">module</span> <a href="Bool/index.html">Bool</a> : <a href="index.html#module-type-VALUE_TYPE">VALUE_TYPE</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-VALUE_TYPE/index.html#type-answer">answer</a> = bool</code></dt><dd><p>Interface for retrieving boolean values from the database</p></dd></dl><dl><dt class="spec module" id="module-Coordinates"><a href="#module-Coordinates" class="anchor"></a><code><span class="keyword">module</span> <a href="Coordinates/index.html">Coordinates</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Interface for retrieving coordinate values from the database</p></dd></dl></div></body></html>